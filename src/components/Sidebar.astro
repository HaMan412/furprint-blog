---
import ProfileBar from "./sidebar/ProfileBar.astro";
import ToolBar from "./sidebar/ToolBar.astro";
import TOCBar from "./sidebar/TOCBar.astro";
import SearchBar from "./sidebar/SearchBar.astro";

interface Props {
  headings?: Array<{
    depth: number;
    slug: string;
    text: string;
  }>;
  showTOC?: boolean;
}

// Get headings from parent component or page
const { headings = [], showTOC = true } = Astro.props as Props;
---

{/* 
  我们移除了外层的 div 包装和 mb-4 间距，
  因为现在所有组件都住在 BaseLayout.astro 的同一个玻璃容器里，
  不再需要独立的间距了。
*/}
<ProfileBar />
<SearchBar />
<ToolBar />
<TOCBar headings={headings} showTOC={showTOC} />
